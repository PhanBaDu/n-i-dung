# XỬ LÝ ĐẶT TRƯỚC

_Dựa trên tài liệu yêu cầu KH-20_RO.MD - Chức năng xử lý đặt trước của Admin_

## 1. DANH SÁCH ĐƠN HÀNG ĐẶT TRƯỚC

### Định dạng 1.png:

| Screen        | Đơn hàng đặt trước                                                                                                           |
| ------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| Description   | Hiển thị danh sách các đơn hàng mà khách hàng đã đặt trước các sản phẩm chưa ra mắt (Gundam, Figure, mô hình xe, máy bay...) |
| Screen Access | Admin chọn **Xử lý đặt trước** trên sidebar                                                                                  |

### Định dạng 2.png:

| Item                     | Type             | Data                                                                                                                | Description                                                                |
| ------------------------ | ---------------- | ------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| **Tiêu đề trang**        | Text             | Xử lý đặt trước                                                                                                     | Tiêu đề chính của trang quản lý đơn hàng đặt trước                         |
| **Mô tả chức năng**      | Text             | Quản lý và xử lý các đơn hàng đặt trước sản phẩm chưa ra mắt từ khách hàng                                          | Mô tả ngắn gọn về mục đích của trang                                       |
| **Thống kê tổng quan**   | Card Group       | Tổng đơn đặt trước: 24<br>Chờ xử lý: 8<br>Đã xác nhận: 6<br>Đang chuẩn bị: 5<br>Đã giao: 4<br>Tổng giá trị: 45M VNĐ | Hiển thị các chỉ số thống kê nhanh về tình hình đơn hàng đặt trước         |
| **Tìm kiếm đơn hàng**    | Input (Text)     |                                                                                                                     | Ô nhập liệu để tìm kiếm đơn hàng theo ID, tên khách hàng hoặc tên sản phẩm |
| **Bộ lọc trạng thái**    | Dropdown         | Tất cả<br>Chờ xử lý<br>Đã xác nhận<br>Đang chuẩn bị<br>Đã giao<br>Đã hủy                                            | Lọc danh sách đơn hàng theo trạng thái xử lý                               |
| **Bộ lọc loại sản phẩm** | Dropdown         | Tất cả<br>Gundam<br>Figure<br>Mô hình xe<br>Máy bay<br>Khác                                                         | Lọc danh sách đơn hàng theo loại sản phẩm được đặt trước                   |
| **Danh sách đơn hàng**   | Table            | ID đơn hàng<br>Khách hàng<br>Sản phẩm<br>Tổng giá trị<br>Trạng thái<br>Ngày tạo<br>Thao tác                         | Hiển thị các đơn hàng đặt trước dưới dạng bảng                             |
| **ID đơn hàng**          | Text + Badge     | #PRE001                                                                                                             | Mã định danh của đơn hàng đặt trước, kèm theo badge trạng thái             |
| **Khách hàng**           | Text             | Tên: Nguyễn Văn A<br>Email: a@example.com<br>SĐT: 0901234567<br>Hạng: Vàng                                          | Thông tin liên hệ và hạng của khách hàng đặt trước                         |
| **Sản phẩm**             | Text             | Gundam RX-78-2 (x1)<br>Figure Saber (x2)                                                                            | Danh sách các sản phẩm được đặt trước, kèm số lượng                        |
| **Tổng giá trị**         | Text             | 15.000.000 VNĐ                                                                                                      | Tổng giá trị dự kiến của đơn hàng                                          |
| **Trạng thái**           | Badge            | Chờ xử lý<br>Đã xác nhận<br>Đang chuẩn bị<br>Đã giao<br>Đã hủy                                                      | Trạng thái hiện tại của đơn hàng đặt trước                                 |
| **Ngày tạo**             | Text             | 2023-10-26 10:30                                                                                                    | Thời gian đơn hàng được tạo                                                |
| **Thao tác**             | Button (Icon)    | Eye (Xem chi tiết)                                                                                                  | Nút để xem chi tiết đơn hàng đặt trước                                     |
| **Sidebar**              | Panel            | Hành động nhanh<br>Tóm tắt trạng thái<br>Hoạt động gần đây                                                          | Thanh bên chứa các chức năng phụ trợ và thông tin tổng quan                |
| **Hành động nhanh**      | Button           | Tạo đơn đặt trước mới                                                                                               | Nút để tạo một đơn hàng đặt trước mới                                      |
| **Tóm tắt trạng thái**   | Chart (Doughnut) | Tỷ lệ trạng thái đơn hàng                                                                                           | Biểu đồ thể hiện tỷ lệ các trạng thái đơn hàng đặt trước                   |
| **Hoạt động gần đây**    | List             | Cập nhật trạng thái đơn #PRE001<br>Xác nhận đơn #PRE002                                                             | Danh sách các hoạt động gần nhất liên quan đến đơn hàng đặt trước          |

### Định dạng 3.png:

| Action Name                          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                         | Success                                                                                                                        | Failure                                                                                                                    |
| ------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------- |
| **Xem danh sách đơn hàng đặt trước** | Hiển thị tổng quan và danh sách chi tiết các đơn hàng mà khách hàng đã đặt trước các sản phẩm chưa ra mắt. Cho phép quản trị viên tìm kiếm đơn hàng theo ID, tên khách hàng hoặc tên sản phẩm. Cung cấp bộ lọc theo trạng thái (Chờ xử lý, Đã xác nhận, Đang chuẩn bị, Đã giao, Đã hủy) và loại sản phẩm (Gundam, Figure, Mô hình xe, Máy bay, Khác). Hiển thị các thống kê nhanh về tổng số đơn, số đơn theo trạng thái và tổng giá trị đặt trước. | Hiển thị trang danh sách đơn hàng đặt trước với đầy đủ dữ liệu. Tìm kiếm và lọc hiển thị kết quả phù hợp với tiêu chí đã chọn. | Không tìm thấy đơn hàng đặt trước nào theo tiêu chí tìm kiếm hoặc lọc. Lỗi khi tải dữ liệu danh sách đơn hàng từ hệ thống. |
| **Tìm kiếm đơn hàng đặt trước**      | Cho phép quản trị viên tìm kiếm đơn hàng đặt trước theo các tiêu chí khác nhau. Hỗ trợ tìm kiếm theo ID đơn hàng, tên khách hàng, email khách hàng, tên sản phẩm hoặc số điện thoại. Tìm kiếm real-time khi người dùng nhập từ khóa. Hiển thị kết quả tìm kiếm ngay lập tức và cập nhật danh sách đơn hàng.                                                                                                                                         | Hiển thị danh sách đơn hàng phù hợp với từ khóa tìm kiếm. Tìm kiếm nhanh và chính xác theo các tiêu chí đã chọn.               | Không tìm thấy đơn hàng nào phù hợp với từ khóa tìm kiếm. Lỗi khi thực hiện tìm kiếm do vấn đề kết nối hoặc dữ liệu.       |
| **Lọc đơn hàng đặt trước**           | Cung cấp các bộ lọc để quản trị viên có thể lọc danh sách đơn hàng đặt trước theo nhu cầu. Bao gồm bộ lọc theo trạng thái (Chờ xử lý, Đã xác nhận, Đang chuẩn bị, Đã giao, Đã hủy). Bộ lọc theo loại sản phẩm (Gundam, Figure, Mô hình xe, Máy bay, Khác). Bộ lọc theo khoảng thời gian tạo đơn hàng. Bộ lọc theo mức độ ưu tiên (Cao, Trung bình, Thấp).                                                                                           | Hiển thị danh sách đơn hàng đã được lọc theo tiêu chí đã chọn. Bộ lọc hoạt động chính xác và cập nhật kết quả ngay lập tức.    | Bộ lọc không hoạt động hoặc hiển thị kết quả không chính xác. Lỗi khi áp dụng bộ lọc do vấn đề dữ liệu hoặc hệ thống.      |

## 2. XEM CHI TIẾT ĐƠN ĐẶT TRƯỚC

### Định dạng 1.png:

| Screen        | Chi tiết đơn hàng đặt trước                                                                                                                               |
| ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Description   | Hiển thị đầy đủ thông tin đặt trước của một đơn hàng cụ thể, bao gồm thông tin khách hàng, sản phẩm chưa ra mắt, trạng thái, lịch sử xử lý và các ghi chú |
| Screen Access | Admin click vào icon **Eye** (Xem chi tiết) từ danh sách đơn hàng đặt trước                                                                               |

### Định dạng 2.png:

| Item                     | Type         | Data                                                                                                                                       | Description                                                          |
| ------------------------ | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------- |
| **Tiêu đề trang**        | Text         | Chi tiết đơn đặt trước #PRE001                                                                                                             | Tiêu đề trang hiển thị ID của đơn hàng đang xem                      |
| **Thông tin chung**      | Card         | ID đơn hàng<br>Trạng thái<br>Ưu tiên<br>Ngày tạo<br>Ngày cập nhật<br>Ngày dự kiến giao<br>Tổng giá trị dự kiến<br>Đã thanh toán<br>Còn lại | Hiển thị các thông tin tổng quan và quan trọng về đơn hàng đặt trước |
| **ID đơn hàng**          | Text         | #PRE001                                                                                                                                    | Mã định danh duy nhất của đơn hàng                                   |
| **Trạng thái**           | Badge        | Đã xác nhận                                                                                                                                | Trạng thái hiện tại của đơn hàng (ví dụ: Chờ xử lý, Đã xác nhận)     |
| **Ưu tiên**              | Badge        | Cao                                                                                                                                        | Mức độ ưu tiên của đơn hàng (ví dụ: Thấp, Trung bình, Cao)           |
| **Ngày tạo**             | Text         | 2023-10-26 10:30                                                                                                                           | Thời gian đơn hàng được tạo                                          |
| **Ngày cập nhật**        | Text         | 2023-10-27 14:00                                                                                                                           | Thời gian thông tin đơn hàng được cập nhật lần cuối                  |
| **Ngày dự kiến giao**    | Text         | 2023-11-15                                                                                                                                 | Ngày dự kiến sản phẩm sẽ được giao cho khách hàng                    |
| **Tổng giá trị dự kiến** | Text         | 15.000.000 VNĐ                                                                                                                             | Tổng giá trị ước tính của các sản phẩm trong đơn hàng                |
| **Đã thanh toán**        | Text         | 5.000.000 VNĐ                                                                                                                              | Số tiền khách hàng đã thanh toán trước                               |
| **Còn lại**              | Text         | 10.000.000 VNĐ                                                                                                                             | Số tiền còn lại khách hàng cần thanh toán                            |
| **Thông tin khách hàng** | Card         | Tên<br>Email<br>Số điện thoại<br>Hạng khách hàng                                                                                           | Hiển thị thông tin chi tiết của khách hàng đặt trước                 |
| **Tên khách hàng**       | Text         | Nguyễn Văn A                                                                                                                               | Tên đầy đủ của khách hàng                                            |
| **Email khách hàng**     | Text         | a@example.com                                                                                                                              | Địa chỉ email của khách hàng                                         |
| **Số điện thoại**        | Text         | 0901234567                                                                                                                                 | Số điện thoại liên hệ của khách hàng                                 |
| **Hạng khách hàng**      | Badge        | Vàng                                                                                                                                       | Hạng thành viên của khách hàng                                       |
| **Sản phẩm đặt trước**   | Table        | Tên sản phẩm<br>Số lượng<br>Giá dự kiến<br>Tổng                                                                                            | Bảng liệt kê các sản phẩm cụ thể trong đơn hàng đặt trước            |
| **Tên sản phẩm**         | Text         | Gundam RX-78-2                                                                                                                             | Tên của sản phẩm được đặt trước                                      |
| **Số lượng**             | Number       | 1                                                                                                                                          | Số lượng sản phẩm được đặt                                           |
| **Giá dự kiến**          | Text         | 5.000.000 VNĐ                                                                                                                              | Giá ước tính của một đơn vị sản phẩm                                 |
| **Tổng (sản phẩm)**      | Text         | 5.000.000 VNĐ                                                                                                                              | Tổng giá trị của sản phẩm đó (Giá dự kiến x Số lượng)                |
| **Lịch sử xử lý**        | Table        | Thời gian<br>Người xử lý<br>Hành động<br>Ghi chú                                                                                           | Bảng ghi lại các thay đổi và hành động đã thực hiện trên đơn hàng    |
| **Thời gian**            | Text         | 2023-10-27 14:00                                                                                                                           | Thời điểm hành động được thực hiện                                   |
| **Người xử lý**          | Text         | Admin B                                                                                                                                    | Tên hoặc ID của người dùng đã thực hiện hành động                    |
| **Hành động**            | Text         | Xác nhận đơn hàng                                                                                                                          | Mô tả hành động đã được thực hiện                                    |
| **Ghi chú (lịch sử)**    | Text         | Đã kiểm tra thông tin khách hàng                                                                                                           | Ghi chú bổ sung về hành động                                         |
| **Ghi chú nội bộ**       | Textarea     |                                                                                                                                            | Vùng nhập liệu cho các ghi chú nội bộ của quản trị viên về đơn hàng  |
| **Hành động**            | Button Group | Xử lý yêu cầu<br>Cập nhật trạng thái<br>In đơn hàng<br>Hủy đơn hàng                                                                        | Các nút chức năng để thực hiện các thao tác trên đơn hàng            |
| **Xử lý yêu cầu**        | Button       |                                                                                                                                            | Mở modal "Xử lý yêu cầu đặt trước"                                   |
| **Cập nhật trạng thái**  | Button       |                                                                                                                                            | Mở modal để thay đổi trạng thái của đơn hàng                         |
| **In đơn hàng**          | Button       |                                                                                                                                            | Tạo và in tài liệu liên quan đến đơn hàng                            |
| **Hủy đơn hàng**         | Button       |                                                                                                                                            | Hủy bỏ đơn hàng đặt trước                                            |

### Định dạng 3.png:

| Action Name                         | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Success                                                                                                                                      | Failure                                                                                                                 |
| ----------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------- |
| **Xem chi tiết đơn hàng đặt trước** | Hiển thị thông tin chi tiết của một đơn hàng đặt trước cụ thể khi quản trị viên chọn xem. Bao gồm thông tin tổng quan (ID, Trạng thái, Ưu tiên, Ngày tạo, Ngày dự kiến giao). Thông tin khách hàng (Tên, Email, Số điện thoại, Hạng thành viên). Thông tin sản phẩm đặt trước (Tên, Số lượng, Giá dự kiến, Tổng giá trị dự kiến). Lịch sử xử lý đơn hàng theo dòng thời gian. Khu vực để thêm và xem các ghi chú nội bộ. Cung cấp các nút hành động nhanh để "Xử lý yêu cầu", "Cập nhật trạng thái" và "Gửi phản hồi" cho khách hàng. | Hiển thị trang chi tiết đơn hàng đặt trước với tất cả thông tin liên quan của đơn hàng được chọn.                                            | Không tìm thấy đơn hàng đặt trước với ID đã cung cấp. Lỗi khi tải dữ liệu chi tiết đơn hàng từ hệ thống.                |
| **Thêm ghi chú nội bộ**             | Cho phép quản trị viên thêm các ghi chú nội bộ về đơn hàng đặt trước. Ghi chú có thể bao gồm thông tin về tình trạng sản phẩm, liên lạc với khách hàng, hoặc các vấn đề cần lưu ý. Hiển thị lịch sử các ghi chú đã thêm với thông tin người tạo và thời gian. Cho phép chỉnh sửa hoặc xóa ghi chú nếu cần thiết.                                                                                                                                                                                                                      | Ghi chú được thêm thành công và hiển thị trong danh sách ghi chú nội bộ. Lịch sử ghi chú được cập nhật với thông tin người tạo và thời gian. | Không thể thêm ghi chú do lỗi hệ thống hoặc dữ liệu không hợp lệ. Ghi chú không được lưu hoặc hiển thị không chính xác. |
| **Xem lịch sử xử lý đơn hàng**      | Hiển thị lịch sử chi tiết các hoạt động đã thực hiện trên đơn hàng đặt trước. Bao gồm thông tin về thời gian, người thực hiện, hành động và ghi chú liên quan. Hiển thị theo dòng thời gian từ cũ đến mới nhất. Cho phép xem chi tiết từng hoạt động và người thực hiện.                                                                                                                                                                                                                                                              | Hiển thị đầy đủ lịch sử xử lý đơn hàng theo dòng thời gian. Thông tin chi tiết về từng hoạt động được hiển thị chính xác.                    | Không thể tải lịch sử xử lý do lỗi hệ thống. Lịch sử hiển thị không đầy đủ hoặc không chính xác.                        |

## 3. XỬ LÝ YÊU CẦU ĐẶT TRƯỚC

### Định dạng 1.png:

| Screen        | Xử lý yêu cầu đặt trước                                                                                 |
| ------------- | ------------------------------------------------------------------------------------------------------- |
| Description   | Modal cho phép Admin phản hồi cho khách hàng khi sản phẩm đã có hàng nhưng chưa được đăng bán công khai |
| Screen Access | Admin click vào nút **Xử lý yêu cầu** từ trang chi tiết đơn hàng đặt trước                              |

### Định dạng 2.png:

| Item                     | Type     | Data                                                                             | Description                                                |
| ------------------------ | -------- | -------------------------------------------------------------------------------- | ---------------------------------------------------------- |
| **Tiêu đề Modal**        | Text     | Xử lý yêu cầu đặt trước                                                          | Tiêu đề của cửa sổ pop-up để xử lý yêu cầu                 |
| **Thông tin đơn hàng**   | Text     | ID: #PRE001<br>Khách hàng: Nguyễn Văn A<br>Trạng thái hiện tại: Chờ xử lý        | Hiển thị tóm tắt thông tin đơn hàng liên quan              |
| **Chọn hành động**       | Dropdown | Xác nhận<br>Từ chối<br>Yêu cầu thêm thông tin<br>Chuyển sang đơn hàng chính thức | Lựa chọn hành động cần thực hiện đối với yêu cầu đặt trước |
| **Ghi chú**              | Textarea |                                                                                  | Vùng nhập liệu để ghi chú chi tiết về quyết định xử lý     |
| **Thông báo khách hàng** | Checkbox |                                                                                  | Tùy chọn gửi thông báo về hành động xử lý cho khách hàng   |
| **Nút Hủy**              | Button   |                                                                                  | Đóng modal mà không lưu thay đổi                           |
| **Nút Xác nhận**         | Button   |                                                                                  | Lưu hành động xử lý và đóng modal                          |

### Định dạng 3.png:

| Action Name                      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Success                                                                                                                                                      | Failure                                                                                                                                                                                             |
| -------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Xử lý yêu cầu đặt trước**      | Cho phép quản trị viên phản hồi cho khách hàng khi sản phẩm đã có hàng nhưng chưa được đăng bán công khai. Bao gồm các thao tác như: **Thông báo có hàng:** Gửi thông báo cho khách hàng khi sản phẩm đặt trước đã có hàng. **Chuyển sang đơn hàng chính thức:** Chuyển đổi đơn đặt trước thành đơn hàng thực tế khi sản phẩm đã sẵn sàng bán. **Cập nhật thông tin sản phẩm:** Cập nhật giá chính thức, thông tin chi tiết sản phẩm. **Gửi phản hồi:** Gửi tin nhắn hoặc thông báo trực tiếp cho khách hàng về tình trạng sản phẩm đặt trước. Các hành động này thường được thực hiện thông qua các modal hoặc form nhập liệu trên giao diện chi tiết đơn đặt trước. | Thông báo có hàng được gửi thành công cho khách hàng. Chuyển đổi đơn đặt trước thành đơn hàng chính thức thành công. Gửi phản hồi cho khách hàng thành công. | Lỗi khi gửi thông báo có hàng (ví dụ: lỗi hệ thống email/SMS). Lỗi khi chuyển đổi đơn hàng (ví dụ: sản phẩm chưa sẵn sàng). Dữ liệu nhập vào không hợp lệ (ví dụ: thông tin sản phẩm không đầy đủ). |
| **Cập nhật trạng thái đơn hàng** | Cho phép quản trị viên thay đổi trạng thái của đơn hàng đặt trước. Bao gồm các trạng thái: Chờ xử lý, Đã xác nhận, Đang chuẩn bị, Đã giao, Đã hủy. Yêu cầu nhập lý do thay đổi trạng thái. Tự động ghi lại lịch sử thay đổi với thông tin người thực hiện và thời gian. Có thể gửi thông báo cho khách hàng về việc thay đổi trạng thái.                                                                                                                                                                                                                                                                                                                              | Trạng thái đơn hàng được cập nhật thành công. Lịch sử thay đổi được ghi lại đầy đủ. Thông báo được gửi cho khách hàng (nếu được chọn).                       | Không thể cập nhật trạng thái do lỗi hệ thống. Trạng thái mới không hợp lệ hoặc không được phép. Lỗi khi gửi thông báo cho khách hàng.                                                              |
| **Gửi thông báo cho khách hàng** | Cho phép quản trị viên gửi thông báo trực tiếp cho khách hàng về tình trạng đơn hàng đặt trước. Hỗ trợ gửi qua email và SMS. Cho phép tùy chỉnh nội dung thông báo. Có thể gửi thông báo tự động khi trạng thái đơn hàng thay đổi. Lưu lịch sử các thông báo đã gửi.                                                                                                                                                                                                                                                                                                                                                                                                  | Thông báo được gửi thành công qua các kênh đã chọn. Khách hàng nhận được thông báo đúng thời gian. Lịch sử gửi thông báo được lưu lại.                       | Không thể gửi thông báo do lỗi hệ thống email/SMS. Thông tin liên hệ khách hàng không chính xác. Nội dung thông báo không hợp lệ hoặc bị lỗi định dạng.                                             |
